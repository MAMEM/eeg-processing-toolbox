<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of exampleEpoc</title>
  <meta name="keywords" content="exampleEpoc">
  <meta name="description" content="Load the data. Call this once outside of the script so you dont have to">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">.</a> &gt; exampleEpoc.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for .&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>exampleEpoc
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Load the data. Call this once outside of the script so you dont have to</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Load the data. Call this once outside of the script so you dont have to
 load the data again and again. Make sure the dataset is included in your
 Matlab path
 sess = eegtoolkit.util.Session;
 sess.loadAll(3); %its best to do this once, outside the script (too much
 time)</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_download"></a>DOWNLOAD <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<p><a href="exampleEpoc.m">exampleEpoc.m</a></p>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% Load the data. Call this once outside of the script so you dont have to</span>
0002 <span class="comment">% load the data again and again. Make sure the dataset is included in your</span>
0003 <span class="comment">% Matlab path</span>
0004 <span class="comment">% sess = eegtoolkit.util.Session;</span>
0005 <span class="comment">% sess.loadAll(3); %its best to do this once, outside the script (too much</span>
0006 <span class="comment">% time)</span>
0007 
0008 <span class="comment">%Load a filter from the samples</span>
0009 load filters/epocfilter;
0010 <span class="comment">% 7 = O1</span>
0011 <span class="comment">% 8 = O2</span>
0012 
0013 <span class="comment">% Stimulus frequencies. The order corresponds to the label id (12Hz=1,</span>
0014 <span class="comment">% 10Hz=2, 8.57Hz=3, 7.5Hz=4, 6.66Hz=5)</span>
0015 <span class="comment">% If the order is wrong, then the &quot;Max&quot; classifier will not work properly</span>
0016 sti_f = [12,10,8.57,7.5,6.66];
0017 
0018 <span class="comment">% CCA feat extraction method</span>
0019 extr = eegtoolkit.featextraction.CCA(sti_f,1:4,128,4);
0020 
0021 refer = eegtoolkit.preprocessing.Rereferencing;
0022 <span class="comment">%Subtract the mean from the signal</span>
0023 refer.meanSignal = 1;
0024 
0025 ss = eegtoolkit.preprocessing.SampleSelection;
0026 ss.sampleRange = [64,640]; <span class="comment">% Specify the sample range to be used for each Trial</span>
0027 ss.channels = 6:9; <span class="comment">% Specify the channel(s) to be used</span>
0028 
0029 df = eegtoolkit.preprocessing.DigitalFilter; <span class="comment">% Apply a filter to the raw data</span>
0030 df.filt = Hbp; <span class="comment">% Hbp is a filter built with &quot;filterbuilder&quot; matlab function</span>
0031 
0032 <span class="comment">%Configure the classifier</span>
0033 classif = eegtoolkit.classification.MaxChooser;
0034 
0035 <span class="comment">%Set the Experimenter wrapper class</span>
0036 experiment = eegtoolkit.experiment.Experimenter;
0037 experiment.session = sess;
0038 <span class="comment">% Add the preprocessing steps (order is taken into account)</span>
0039 experiment.preprocessing = {ss,df};
0040 experiment.featextraction = extr;
0041 experiment.classification = classif;
0042 experiment.evalMethod = experiment.EVAL_METHOD_LOSO; <span class="comment">% specify that you want a &quot;leave one subject out&quot; (default is LOOCV)</span>
0043 experiment.run();
0044 <span class="keyword">for</span> i=1:length(experiment.results)
0045     accuracies(i) = experiment.results{i}.getAccuracy();
0046 <span class="keyword">end</span>
0047 
0048 accuracies'
0049 <span class="comment">%mean accuracy for all subjects</span>
0050 fprintf(<span class="string">'mean acc = %f\n'</span>, mean(accuracies));
0051 <span class="comment">%get the configuration used (for reporting)</span>
0052 <span class="comment">% experiment.getExperimentInfo</span>
0053 <span class="comment">% experiment.getTime</span></pre></div>
<hr><address>Generated on Fri 25-Nov-2016 14:50:34 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>