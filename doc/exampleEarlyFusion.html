<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of exampleEarlyFusion</title>
  <meta name="keywords" content="exampleEarlyFusion">
  <meta name="description" content="Leave one subject out testing">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">.</a> &gt; exampleEarlyFusion.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for .&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>exampleEarlyFusion
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>Leave one subject out testing</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment"> Leave one subject out testing
 load filtMAMEM; % load a filter
 sess = eegtoolkit.util.Session(Hhp);
 sess.loadAll(1); %its best to do this once, outside the script (too much
 time)
 transf = eegtoolkit.transformer.PWelchTransformer();
 Load the data. Call this once outside of the script so you dont have to
 load the data again and again. Make sure the dataset is included in your
 Matlab path
 sess = eegtoolkit.util.Session;
 sess.loadAll(1); %Loads dataset I</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->


<h2><a name="_download"></a>DOWNLOAD <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<p><a href="exampleEarlyFusion.m">exampleEarlyFusion.m</a></p>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">% Leave one subject out testing</span>
0002 <span class="comment">% load filtMAMEM; % load a filter</span>
0003 <span class="comment">% sess = eegtoolkit.util.Session(Hhp);</span>
0004 <span class="comment">% sess.loadAll(1); %its best to do this once, outside the script (too much</span>
0005 <span class="comment">% time)</span>
0006 <span class="comment">% transf = eegtoolkit.transformer.PWelchTransformer();</span>
0007 <span class="comment">% Load the data. Call this once outside of the script so you dont have to</span>
0008 <span class="comment">% load the data again and again. Make sure the dataset is included in your</span>
0009 <span class="comment">% Matlab path</span>
0010 <span class="comment">% sess = eegtoolkit.util.Session;</span>
0011 <span class="comment">% sess.loadAll(1); %Loads dataset I</span>
0012 
0013 <span class="comment">%Load a filter from the samples</span>
0014 load filters/filt_IIRElliptic;
0015 
0016 
0017 
0018 refer = eegtoolkit.preprocessing.Rereferencing;
0019 <span class="comment">%Subtract the mean from the signal</span>
0020 refer.meanSignal = 1;
0021 
0022 ss = eegtoolkit.preprocessing.SampleSelection;
0023 ss.sampleRange = [1,1250]; <span class="comment">% Specify the sample range to be used for each Trial</span>
0024 ss.channels = [138,139,150]; <span class="comment">% Specify the channel(s) to be used</span>
0025 
0026 df = eegtoolkit.preprocessing.DigitalFilter; <span class="comment">% Apply a filter to the raw data</span>
0027 df.filt = Hbp; <span class="comment">% Hbp is a filter built with &quot;filterbuilder&quot; matlab function</span>
0028 
0029 
0030 <span class="comment">%Extract features with the pwelch method</span>
0031 extr1 = eegtoolkit.featextraction.PWelch;
0032 extr1.channel = 1; <span class="comment">%will use channel 138</span>
0033 
0034 extr2 = eegtoolkit.featextraction.PWelch;
0035 extr2.channel = 2; <span class="comment">%will use channel 139</span>
0036 
0037 extr3 = eegtoolkit.featextraction.PWelch;
0038 extr3.channel = 3; <span class="comment">%will use channel 150</span>
0039 
0040 extr = {extr1,extr2,extr3};
0041 <span class="comment">% Average all three channels so as to get a new feature vector</span>
0042 aggr = eegtoolkit.aggregation.ChannelAveraging;
0043 <span class="comment">%Configure the classifier</span>
0044 classif = eegtoolkit.classification.LIBSVM;
0045 
0046 <span class="comment">%Set the Experimenter wrapper class</span>
0047 experiment = eegtoolkit.experiment.Experimenter;
0048 experiment.session = sess;
0049 <span class="comment">% Add the preprocessing steps (order is taken into account)</span>
0050 experiment.preprocessing = {ss,refer,df};
0051 experiment.featextraction = {extr1,extr2,extr3};
0052 experiment.aggregator = aggr;
0053 experiment.classification = classif;
0054 experiment.evalMethod = experiment.EVAL_METHOD_LOSO; <span class="comment">% specify that you want a &quot;leave one subject out&quot; (default is LOOCV)</span>
0055 experiment.run();
0056 <span class="keyword">for</span> i=1:length(experiment.results)
0057     accuracies(i) = experiment.results{i}.getAccuracy();
0058 <span class="keyword">end</span>
0059 
0060 accuracies'
0061 <span class="comment">%mean accuracy for all subjects</span>
0062 fprintf(<span class="string">'mean acc = %f\n'</span>, mean(accuracies));
0063 <span class="comment">%get the configuration used (for reporting)</span>
0064 experiment.getExperimentInfo
0065 experiment.getTime</pre></div>
<hr><address>Generated on Fri 25-Nov-2016 17:12:22 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>